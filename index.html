<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For Wyrielle ðŸ’–</title>
<style>
body{
    margin:0;
    font-family:'Segoe UI', sans-serif;
    background:black;
    color:white;
    overflow:hidden;
}
#lyrics{
    position:fixed;
    bottom:15%;
    width:100%;
    text-align:center;
    font-size:1.3em;
    text-shadow:0 0 15px white;
    min-height:50px;
}
#photo{
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    object-fit:cover;
    opacity:0;
    transition:opacity 1.5s ease;
    z-index:-1;
}
#controls{
    position:fixed;
    bottom:5%;
    width:100%;
    text-align:center;
    z-index:5;
}
button{
    margin:5px;
    padding:10px 20px;
    border:none;
    border-radius:25px;
    background:white;
    color:#ff2f86;
    font-size:1em;
    cursor:pointer;
    transition:0.2s;
}
button:active{transform:scale(0.95);}
.finalGlow{
    font-size:28px;
    color:#ff8de1;
    text-shadow:
        0 0 10px #ff8de1,
        0 0 25px #ff8de1,
        0 0 50px #ff2ec4;
    animation:pulseGlow 2s infinite alternate;
}
@keyframes pulseGlow{
    from{transform:scale(1);}
    to{transform:scale(1.05);}
}
.particle{
    position:fixed;
    width:8px;
    height:8px;
    background:pink;
    border-radius:50%;
    pointer-events:none;
    animation:floatUp 1s linear forwards;
}
@keyframes floatUp{
    to{transform:translateY(-100px);opacity:0;}
}
</style>
</head>
<body>

<img id="photo">
<div id="lyrics">Click "Start Our Anthem ðŸ’–" to begin!</div>

<div id="controls">
    <button id="startBtn">Start Our Anthem ðŸ’–</button>
    <div id="messageButtons" style="display:none; flex-wrap:wrap; justify-content:center; margin-top:15px;">
        <!-- 20 love message buttons -->
        <button onclick="showMessage('Wyrielle, every time I see you, my heart skips a beat ðŸ’ž')">Message 1</button>
        <button onclick="showMessage('You light up my world in ways I cannot explain ðŸ’—')">Message 2</button>
        <button onclick="showMessage('Being with you makes every day feel magical âœ¨')">Message 3</button>
        <button onclick="showMessage('You are my sunshine, my muse, my heart ðŸ’')">Message 4</button>
        <button onclick="showMessage('I fall for you more deeply with every heartbeat ðŸ’“')">Message 5</button>
        <button onclick="showMessage('Your smile is my favorite sight in the world ðŸŒ¸')">Message 6</button>
        <button onclick="showMessage('Every moment with you feels like a dream come true ðŸ’–')">Message 7</button>
        <button onclick="showMessage('I love the way your eyes sparkle like stars âœ¨')">Message 8</button>
        <button onclick="showMessage('With you, life feels endless and beautiful ðŸŒ¹')">Message 9</button>
        <button onclick="showMessage('I promise to love you now and forever, my Wyrielle ðŸ’ž')">Message 10</button>
        <button onclick="showMessage('You are my heart, my soul, my everything ðŸ’—')">Message 11</button>
        <button onclick="showMessage('Every laugh, every touch, every glance with you matters ðŸ’–')">Message 12</button>
        <button onclick="showMessage('Being near you feels like coming home ðŸŒ¸')">Message 13</button>
        <button onclick="showMessage('I cherish every second I spend with you ðŸ’')">Message 14</button>
        <button onclick="showMessage('Your love makes me stronger, happier, complete ðŸ’ž')">Message 15</button>
        <button onclick="showMessage('Youâ€™re the most beautiful part of my life ðŸ’—')">Message 16</button>
        <button onclick="showMessage('My heart belongs to you and only you ðŸ’–')">Message 17</button>
        <button onclick="showMessage('Youâ€™re my dream, my muse, my forever ðŸ’“')">Message 18</button>
        <button onclick="showMessage('I will love you endlessly and endlessly ðŸ’')">Message 19</button>
        <button onclick="showMessage('Wyrielle, you complete me in every way ðŸ’ž')">Message 20</button>
    </div>
</div>

<audio id="audio" src="anthem.mp3"></audio>

<script>
const audio = document.getElementById("audio");
const lyricsDiv = document.getElementById("lyrics");
const photo = document.getElementById("photo");
const startBtn = document.getElementById("startBtn");
const messageButtons = document.getElementById("messageButtons");

/* Show messages after starting */
startBtn.onclick = function(){
    audio.play();
    startBtn.style.display="none";
    messageButtons.style.display="flex";
};

/* Show message + particle effect */
function showMessage(msg){
    lyricsDiv.textContent = msg;
    for(let i=0;i<10;i++){
        let p = document.createElement("div");
        p.className="particle";
        p.style.left = Math.random()*100+"vw";
        p.style.top = Math.random()*100+"vh";
        p.style.width = p.style.height = (8+Math.random()*8)+"px";
        document.body.appendChild(p);
        setTimeout(()=>p.remove(),1000);
    }
}

/* Load lyrics.lrc */
let lyricsData=[];
fetch("lyrics.lrc")
.then(res=>res.text())
.then(text=>{
    const lines=text.split("\n");
    lines.forEach(line=>{
        const match=line.match(/\[(\d+):(\d+\.\d+)\](.*)/);
        if(match){
            const min=parseInt(match[1]);
            const sec=parseFloat(match[2]);
            const time=min*60+sec;
            let content=match[3].trim();
            let img=null;
            let removeButtons=false;
            let cinematicEnd=false;

            if(content.includes("{")){
                let command=content.match(/\{(.*)\}/)[1];
                if(command.includes(".jpeg")) img=command;
                if(command=="REMOVE_BUTTONS") removeButtons=true;
                if(command=="CINEMATIC_END") cinematicEnd=true;
                content=content.replace(/\{.*\}/,"").trim();
            }

            lyricsData.push({time,text:content,img,removeButtons,cinematicEnd});
        }
    });
});

/* Sync lyrics + pictures */
let currentIndex=0;
audio.ontimeupdate=function(){
    let t=audio.currentTime;
    while(currentIndex<lyricsData.length && t>=lyricsData[currentIndex].time){
        const event=lyricsData[currentIndex];
        if(event.text) lyricsDiv.textContent=event.text;
        if(event.img){
            photo.style.opacity=0;
            setTimeout(()=>{
                photo.src=event.img;
                photo.style.opacity=1;
            },500);
        }
        if(event.removeButtons) messageButtons.style.display="none";
        if(event.cinematicEnd){
            lyricsDiv.classList.add("finalGlow");
            photo.style.transform="scale(1.1)";
            let fadeAudio=setInterval(()=>{
                if(audio.volume>0.05) audio.volume-=0.05;
                else clearInterval(fadeAudio);
            },400);
        }
        currentIndex++;
    }
};
</script>

</body>
</html>
